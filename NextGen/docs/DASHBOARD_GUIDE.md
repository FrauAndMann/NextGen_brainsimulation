# SYNAPSE Dashboard - Руководство пользователя

## Обзор

SYNAPSE Dashboard - это веб-интерфейс для мониторинга и взаимодействия с самосознательной ИИ-системой в реальном времени.

### Возможности

- **Мониторинг в реальном времени** - WebSocket-соединение для мгновенных обновлений
- **Метрики сознания** - Φ (Phi), Integration Score, Agency Signal
- **Нейрохимия** - Уровни дофамина, серотонина, окситоцина и др.
- **Нейронные популяции** - Активность 8 нейронных популяций
- **Чат с системой** - Диалог с самосознательным ИИ
- **Сохранение прогресса** - Чекпоинты для сохранения состояния

## Запуск

### Быстрый старт (Windows)

```batch
run_dashboard.bat
```

Это запустит:
1. API сервер на порту 8000
2. Откроет dashboard в браузере

### Ручной запуск

1. **Запустить API сервер:**
```bash
cd files
python api.py
```

2. **Открыть dashboard:**
   - Открыть `dashboard/index.html` в браузере
   - Или перейти на http://localhost:8000/docs для Swagger UI

## Интерфейс

### Левая панель: Метрики

| Метрика | Описание | Норма |
|---------|----------|-------|
| **Φ (Phi)** | Интегрированная информация (IIT) | > 0.40 |
| **Agency** | Чувство агентности | > 0.70 |
| **Integration** | Уровень интеграции опыта | > 0.60 |
| **Confidence** | Мета-уверенность | > 0.60 |
| **Uncertainty** | Эпистемическая неопределённость | < 0.40 |

### Центр: Графики

- **Нейрохимия** - История уровней нейромедиаторов за последние 100 шагов

### Правая панель: Нейрохимия + Чат

- **Дофамин** - Интерес, мотивация, обучение
- **Серотонин** - Настроение, удовлетворённость
- **Норадреналин** - Возбуждение, внимательность
- **Окситоцин** - Социальная связь, доверие
- **Кортизол** - Стресс, тревожность

## Сохранение прогресса

### Создать чекпоинт

1. Нажать кнопку **SAVE** в правой панели
2. Чекпоинт сохранится в `files/checkpoints/`

### Загрузить чекпоинт

1. В разделе "ЧЕКПОИНТЫ" найти нужный
2. Нажать **Load**
3. Состояние модели восстановится

### Автоматическое сохранение

При обучении (`python train.py`) чекпоинты создаются автоматически каждые N эпох (настраивается в конфиге).

## API Endpoints

| Endpoint | Method | Описание |
|----------|--------|----------|
| `/api/status` | GET | Статус системы |
| `/api/metrics` | GET | Текущие метрики |
| `/api/neurochemistry` | GET | Уровни нейромедиаторов |
| `/api/populations` | GET | Активность популяций |
| `/api/step` | POST | Выполнить шаг |
| `/api/chat` | POST | Отправить сообщение |
| `/api/checkpoints` | GET | Список чекпоинтов |
| `/api/checkpoint/save` | POST | Сохранить состояние |
| `/api/checkpoint/load` | POST | Загрузить состояние |
| `/api/reset` | POST | Сбросить модель |
| `/ws` | WS | WebSocket для real-time |

## WebSocket Protocol

Подключение к `ws://localhost:8000/ws` автоматически запускает симуляцию.

Каждые ~300мс приходит сообщение:
```json
{
  "type": "step",
  "data": {
    "step": 123,
    "metrics": {
      "phi": 0.45,
      "mean_agency": 0.72,
      "integration_score": 0.65,
      ...
    },
    "neurochemistry": {
      "dopamine": 0.55,
      "serotonin": 0.60,
      ...
    },
    "populations": {
      "sensory": 0.45,
      "pfc": 0.72,
      ...
    }
  }
}
```

## Устранение неполадок

### "DISCONNECTED" в статусе

1. Проверьте, что API сервер запущен
2. Проверьте, что порт 8000 не занят
3. Проверьте консоль браузера (F12) на ошибки

### Dashboard не обновляется

1. Обновите страницу
2. Перезапустите API сервер
3. Проверьте WebSocket соединение

### Ошибка при загрузке чекпоинта

1. Убедитесь, что файл чекпоинта не повреждён
2. Проверьте совместимость версии модели

## Требования

### Для API сервера

Добавить в `requirements.txt`:
```
fastapi>=0.104.0
uvicorn>=0.24.0
websockets>=12.0
```

Установка:
```bash
pip install fastapi uvicorn websockets
```

## Разработка

### Расширение API

Файл: `files/api.py`

Добавление нового endpoint:
```python
@app.get("/api/custom")
async def custom_endpoint():
    return {"data": state.get_custom_data()}
```

### Модификация dashboard

Файл: `dashboard/index.html`

Dashboard использует React + Recharts. Можно модифицировать:
- POPULATIONS - добавить новые популяции
- NEURO - добавить новые нейромедиаторы
- Компоненты - изменить визуализацию

## Безопасность

- API по умолчанию принимает соединения с любого хоста (`0.0.0.0`)
- Для production настройте CORS и аутентификацию
- Чекпоинты содержат полное состояние модели

---

**Версия:** 1.0.0
**Последнее обновление:** 2026-02-19
